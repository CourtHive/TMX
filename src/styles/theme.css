/* ===== Light theme (default) ===== */
:root {
  /* Typography */
  --tmx-font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, 'Helvetica Neue', Helvetica, Arial, sans-serif;

  /* Backgrounds */
  --tmx-bg-primary: #ffffff;
  --tmx-bg-secondary: #f5f5f5;
  --tmx-bg-tertiary: #e7e6e7;
  --tmx-bg-elevated: #ffffff;
  --tmx-bg-highlight: lightyellow;
  --tmx-bg-panel-header: rgb(192, 193, 211);

  /* Text */
  --tmx-text-primary: #363636;
  --tmx-text-secondary: #666666;
  --tmx-text-muted: #999999;
  --tmx-text-inverse: #ffffff;

  /* Borders */
  --tmx-border-primary: #dbdbdb;
  --tmx-border-secondary: #e0e0e0;
  --tmx-border-focus: #4a90d9;

  /* Accents */
  --tmx-accent-blue: #4a90d9;
  --tmx-accent-green: #48c774;
  --tmx-accent-purple: #b86bff;
  --tmx-accent-red: #ff6b6b;
  --tmx-accent-orange: #ff9f43;
  --tmx-accent-teal: #00b8a9;
  --tmx-accent-pink: #AA336A;

  /* Status */
  --tmx-status-success: #48c774;
  --tmx-status-warning: #ffdd57;
  --tmx-status-error: #f14668;
  --tmx-status-info: #3e8ed0;

  /* Panels */
  --tmx-panel-blue-bg: #eef4fb;
  --tmx-panel-blue-border: #4a90d9;
  --tmx-panel-green-bg: #effaf3;
  --tmx-panel-green-border: #48c774;
  --tmx-panel-red-bg: #fef0f0;
  --tmx-panel-red-border: #ff6b6b;
  --tmx-panel-purple-bg: #f5eeff;
  --tmx-panel-purple-border: #b86bff;
  --tmx-panel-orange-bg: #fff5eb;
  --tmx-panel-orange-border: #ff9f43;
  --tmx-panel-teal-bg: #e6faf8;
  --tmx-panel-teal-border: #00b8a9;
  --tmx-panel-yellow-bg: #fffaeb;
  --tmx-panel-yellow-border: #e6c84e;

  /* Schedule cell states */
  --sch-neutral: white;
  --sch-error: #c01a1a;
  --sch-issue: #faa774;
  --sch-conflict: #f5a9a9;
  --sch-warning: lightyellow;
  --sch-complete: #e0ecf8;
  --sch-inprogress: #cef6ce;
  --sch-abandoned: #f7be81;

  /* Tabulator */
  --tmx-tab-bg: #ffffff;
  --tmx-tab-header-bg: #f5f5f5;
  --tmx-tab-row-alt-bg: #fafafa;
  --tmx-tab-row-hover-bg: #f0f0f0;
  --tmx-tab-text: #363636;
  --tmx-tab-text-muted: #bbbbbb;
  --tmx-tab-border: #dbdbdb;
  --tmx-tab-selected-bg: #e7e6e7;
  --tmx-tab-selected-text: #363636;

  /* ── courthive-components bridge ────────────────────── */
  /* Map --chc-* vars to TMX values so the component library */
  /* inherits the host app palette. See courthive-components  */
  /* theme.css for the full variable catalog.                 */
  --chc-bg-primary: var(--tmx-bg-primary);
  --chc-bg-secondary: var(--tmx-bg-secondary);
  --chc-bg-elevated: var(--tmx-bg-elevated);
  --chc-text-primary: var(--tmx-text-primary);
  --chc-text-secondary: var(--tmx-text-secondary);
  --chc-text-muted: var(--tmx-text-muted);
  --chc-text-inverse: var(--tmx-text-inverse);
  --chc-border-primary: var(--tmx-border-primary);
  --chc-border-secondary: var(--tmx-border-secondary);
  --chc-border-focus: var(--tmx-border-focus);
  --chc-panel-header-bg: var(--tmx-bg-panel-header);
}

/* ===== Dark theme ===== */
[data-theme='dark'] {
  /* Backgrounds */
  --tmx-bg-primary: #1a1a2e;
  --tmx-bg-secondary: #16213e;
  --tmx-bg-tertiary: #0f3460;
  --tmx-bg-elevated: #222244;
  --tmx-bg-highlight: #3a3a1a;
  --tmx-bg-panel-header: #2a2a4e;

  /* Text */
  --tmx-text-primary: #e0e0e0;
  --tmx-text-secondary: #b0b0b0;
  --tmx-text-muted: #808080;
  --tmx-text-inverse: #1a1a2e;

  /* Borders */
  --tmx-border-primary: #444444;
  --tmx-border-secondary: #333333;
  --tmx-border-focus: #5b9bd5;

  /* Accents */
  --tmx-accent-blue: #5b9bd5;
  --tmx-accent-green: #5cb878;
  --tmx-accent-purple: #c88aff;
  --tmx-accent-red: #ff8a8a;
  --tmx-accent-orange: #ffb366;
  --tmx-accent-teal: #1a9e8f;
  --tmx-accent-pink: #CC4488;

  /* Status */
  --tmx-status-success: #5cb878;
  --tmx-status-warning: #e6c84e;
  --tmx-status-error: #e85d7a;
  --tmx-status-info: #5ba3d9;

  /* Panels */
  --tmx-panel-blue-bg: #1a2a4e;
  --tmx-panel-blue-border: #5b9bd5;
  --tmx-panel-green-bg: #1a3a2a;
  --tmx-panel-green-border: #5cb878;
  --tmx-panel-red-bg: #3a1a1a;
  --tmx-panel-red-border: #ff8a8a;
  --tmx-panel-purple-bg: #2a1a3e;
  --tmx-panel-purple-border: #c88aff;
  --tmx-panel-orange-bg: #3a2a1a;
  --tmx-panel-orange-border: #ffb366;
  --tmx-panel-teal-bg: #1a3a38;
  --tmx-panel-teal-border: #33c9bb;
  --tmx-panel-yellow-bg: #3a3a1a;
  --tmx-panel-yellow-border: #e6c84e;

  /* Tabulator */
  --tmx-tab-bg: #1a1a2e;
  --tmx-tab-header-bg: #16213e;
  --tmx-tab-row-alt-bg: #1e1e3a;
  --tmx-tab-row-hover-bg: #222244;
  --tmx-tab-text: #e0e0e0;
  --tmx-tab-text-muted: #666666;
  --tmx-tab-border: #444444;
  --tmx-tab-selected-bg: #0f3460;
  --tmx-tab-selected-text: #ffffff;

  /* Schedule overrides */
  --sch-neutral: #222244;
  --sch-complete: #1a3a5c;
  --sch-inprogress: #1a4a2a;
  --sch-warning: #4a3a1a;
  --sch-error: #8b2020;
  --sch-conflict: #5c2a2a;
  --sch-issue: #5c3a1a;
  --sch-abandoned: #5c4a2a;

  /* Dropdown scoring overrides */
  --dd-active: #666666;
  --dd-active-color: #e0e0e0;
  --dd-notactive-color: #1a1a2e;
  --dd-span-background: #2a2a4e;
  --dd-span-hover: #3a3a5e;
  --dd-li-background: #222244;
  --dd-label-color: #e0e0e0;
  --dd-hasvalue: #c0c0c0;
  --dd-novalue: #222244;

  /* ── courthive-components bridge (dark) ────────────── */
  --chc-bg-primary: var(--tmx-bg-primary);
  --chc-bg-secondary: var(--tmx-bg-secondary);
  --chc-bg-elevated: var(--tmx-bg-elevated);
  --chc-text-primary: var(--tmx-text-primary);
  --chc-text-secondary: var(--tmx-text-secondary);
  --chc-text-muted: var(--tmx-text-muted);
  --chc-text-inverse: var(--tmx-text-inverse);
  --chc-border-primary: var(--tmx-border-primary);
  --chc-border-secondary: var(--tmx-border-secondary);
  --chc-border-focus: var(--tmx-border-focus);
  --chc-modal-bg: var(--tmx-bg-elevated);
  --chc-dropdown-bg: var(--tmx-bg-elevated);
  --chc-input-bg: var(--tmx-bg-secondary);
  --chc-panel-header-bg: var(--tmx-bg-panel-header);
  --chc-hover-bg: var(--tmx-bg-panel-header);
  --chc-format-code-color: var(--tmx-accent-blue);
  --chc-status-success: var(--tmx-status-success);
  --chc-status-warning: var(--tmx-status-warning);
  --chc-status-error: var(--tmx-status-error);
  --chc-status-info: var(--tmx-status-info);
}

/* ===== Dark theme element overrides ===== */

/* --- Intent-colored button dark overrides --- */
/* Info */
[data-theme='dark'] .button.is-info {
  background-color: var(--tmx-status-info);
  border-color: transparent;
  color: #fff;
}
[data-theme='dark'] .button.is-info:hover { background-color: #4faae0; }
[data-theme='dark'] .button.is-info:active { background-color: #4a9cd4; }
[data-theme='dark'] .button.is-info.is-outlined {
  background-color: transparent;
  border-color: var(--tmx-status-info);
  color: var(--tmx-status-info);
}
[data-theme='dark'] .button.is-info.is-outlined:hover {
  background-color: var(--tmx-status-info);
  color: #fff;
}
[data-theme='dark'] .button.is-info.is-light {
  background-color: rgba(91, 163, 217, 0.15);
  color: var(--tmx-status-info);
}
[data-theme='dark'] .button.is-info.is-light:hover { background-color: rgba(91, 163, 217, 0.25); }

/* Success */
[data-theme='dark'] .button.is-success {
  background-color: var(--tmx-status-success);
  border-color: transparent;
  color: #fff;
}
[data-theme='dark'] .button.is-success:hover { background-color: #6dc48d; }
[data-theme='dark'] .button.is-success:active { background-color: #52b477; }
[data-theme='dark'] .button.is-success.is-outlined {
  background-color: transparent;
  border-color: var(--tmx-status-success);
  color: var(--tmx-status-success);
}
[data-theme='dark'] .button.is-success.is-outlined:hover {
  background-color: var(--tmx-status-success);
  color: #fff;
}
[data-theme='dark'] .button.is-success.is-light {
  background-color: rgba(92, 184, 120, 0.15);
  color: var(--tmx-status-success);
}
[data-theme='dark'] .button.is-success.is-light:hover { background-color: rgba(92, 184, 120, 0.25); }

/* Danger */
[data-theme='dark'] .button.is-danger {
  background-color: var(--tmx-status-error);
  border-color: transparent;
  color: #fff;
}
[data-theme='dark'] .button.is-danger:hover { background-color: #ea7490; }
[data-theme='dark'] .button.is-danger:active { background-color: #e56584; }
[data-theme='dark'] .button.is-danger.is-outlined {
  background-color: transparent;
  border-color: var(--tmx-status-error);
  color: var(--tmx-status-error);
}
[data-theme='dark'] .button.is-danger.is-outlined:hover {
  background-color: var(--tmx-status-error);
  color: #fff;
}
[data-theme='dark'] .button.is-danger.is-light {
  background-color: rgba(232, 93, 122, 0.15);
  color: var(--tmx-status-error);
}
[data-theme='dark'] .button.is-danger.is-light:hover { background-color: rgba(232, 93, 122, 0.25); }

/* Warning */
[data-theme='dark'] .button.is-warning {
  background-color: var(--tmx-status-warning);
  border-color: transparent;
  color: rgba(0, 0, 0, 0.7);
}
[data-theme='dark'] .button.is-warning:hover { background-color: #e9d25a; }
[data-theme='dark'] .button.is-warning:active { background-color: #d9c344; }
[data-theme='dark'] .button.is-warning.is-outlined {
  background-color: transparent;
  border-color: var(--tmx-status-warning);
  color: var(--tmx-status-warning);
}
[data-theme='dark'] .button.is-warning.is-outlined:hover {
  background-color: var(--tmx-status-warning);
  color: rgba(0, 0, 0, 0.7);
}
[data-theme='dark'] .button.is-warning.is-light {
  background-color: rgba(230, 200, 78, 0.15);
  color: var(--tmx-status-warning);
}
[data-theme='dark'] .button.is-warning.is-light:hover { background-color: rgba(230, 200, 78, 0.25); }

/* Primary */
[data-theme='dark'] .button.is-primary {
  background-color: var(--tmx-accent-teal);
  border-color: transparent;
  color: #fff;
}
[data-theme='dark'] .button.is-primary:hover { background-color: #23b5a4; }
[data-theme='dark'] .button.is-primary:active { background-color: #15877a; }
[data-theme='dark'] .button.is-primary.is-outlined {
  background-color: transparent;
  border-color: var(--tmx-accent-teal);
  color: var(--tmx-accent-teal);
}
[data-theme='dark'] .button.is-primary.is-outlined:hover {
  background-color: var(--tmx-accent-teal);
  color: #fff;
}
[data-theme='dark'] .button.is-primary.is-light {
  background-color: rgba(26, 158, 143, 0.15);
  color: var(--tmx-accent-teal);
}
[data-theme='dark'] .button.is-primary.is-light:hover { background-color: rgba(26, 158, 143, 0.25); }

/* Link */
[data-theme='dark'] .button.is-link {
  background-color: var(--tmx-accent-blue);
  border-color: transparent;
  color: #fff;
}
[data-theme='dark'] .button.is-link:hover { background-color: #6da8dc; }
[data-theme='dark'] .button.is-link:active { background-color: #5098d5; }
[data-theme='dark'] .button.is-link.is-outlined {
  background-color: transparent;
  border-color: var(--tmx-accent-blue);
  color: var(--tmx-accent-blue);
}
[data-theme='dark'] .button.is-link.is-outlined:hover {
  background-color: var(--tmx-accent-blue);
  color: #fff;
}
[data-theme='dark'] .button.is-link.is-light {
  background-color: rgba(91, 155, 213, 0.15);
  color: var(--tmx-accent-blue);
}
[data-theme='dark'] .button.is-link.is-light:hover { background-color: rgba(91, 155, 213, 0.25); }

/* White */
[data-theme='dark'] .button.is-white {
  background-color: var(--tmx-bg-secondary);
  border-color: transparent;
  color: var(--tmx-text-primary);
}
[data-theme='dark'] .button.is-white:hover { background-color: var(--tmx-bg-tertiary); }

/* --- Tippy.js 'tippy' theme dark overrides --- */
[data-theme='dark'] .tippy-box[data-theme~='tippy'] {
  background-color: var(--tmx-bg-elevated);
  border-color: var(--tmx-border-primary);
  color: var(--tmx-text-primary);
  box-shadow: 0 4px 14px -2px rgba(0, 0, 0, 0.3);
}
[data-theme='dark'] .tippy-box[data-theme~='tippy'] > .tippy-backdrop {
  background-color: var(--tmx-bg-elevated);
}
[data-theme='dark'] .tippy-box[data-theme~='tippy'] > .tippy-svg-arrow {
  fill: var(--tmx-border-primary);
}
[data-theme='dark'] .tippy-box[data-theme~='tippy'][data-placement^='top'] > .tippy-arrow:before {
  border-top-color: var(--tmx-border-primary);
}
[data-theme='dark'] .tippy-box[data-theme~='tippy'][data-placement^='top'] > .tippy-arrow:after {
  border-top-color: rgba(0, 0, 0, 0.3);
}
[data-theme='dark'] .tippy-box[data-theme~='tippy'][data-placement^='bottom'] > .tippy-arrow:before {
  border-bottom-color: var(--tmx-bg-elevated);
}
[data-theme='dark'] .tippy-box[data-theme~='tippy'][data-placement^='bottom'] > .tippy-arrow:after {
  border-bottom-color: rgba(0, 0, 0, 0.3);
}
[data-theme='dark'] .tippy-box[data-theme~='tippy'][data-placement^='left'] > .tippy-arrow:before {
  border-left-color: var(--tmx-bg-elevated);
}
[data-theme='dark'] .tippy-box[data-theme~='tippy'][data-placement^='left'] > .tippy-arrow:after {
  border-left-color: rgba(0, 0, 0, 0.3);
}
[data-theme='dark'] .tippy-box[data-theme~='tippy'][data-placement^='right'] > .tippy-arrow:before {
  border-right-color: var(--tmx-bg-elevated);
}
[data-theme='dark'] .tippy-box[data-theme~='tippy'][data-placement^='right'] > .tippy-arrow:after {
  border-right-color: rgba(0, 0, 0, 0.3);
}

/* --- Tippy.js 'light-border' theme dark overrides --- */
[data-theme='dark'] .tippy-box[data-theme~='light-border'] {
  background-color: var(--tmx-bg-elevated);
  color: var(--tmx-text-primary);
  border-color: var(--tmx-border-primary);
  box-shadow: 0 4px 14px -2px rgba(0, 0, 0, 0.3);
}
[data-theme='dark'] .tippy-box[data-theme~='light-border'][data-placement^='top'] > .tippy-arrow::before {
  border-top-color: var(--tmx-border-primary);
}
[data-theme='dark'] .tippy-box[data-theme~='light-border'][data-placement^='top'] > .tippy-arrow::after {
  border-top-color: var(--tmx-bg-elevated);
}
[data-theme='dark'] .tippy-box[data-theme~='light-border'][data-placement^='bottom'] > .tippy-arrow::before {
  border-bottom-color: var(--tmx-border-primary);
}
[data-theme='dark'] .tippy-box[data-theme~='light-border'][data-placement^='bottom'] > .tippy-arrow::after {
  border-bottom-color: var(--tmx-bg-elevated);
}
[data-theme='dark'] .tippy-box[data-theme~='light-border'][data-placement^='left'] > .tippy-arrow::before {
  border-left-color: var(--tmx-border-primary);
}
[data-theme='dark'] .tippy-box[data-theme~='light-border'][data-placement^='left'] > .tippy-arrow::after {
  border-left-color: var(--tmx-bg-elevated);
}
[data-theme='dark'] .tippy-box[data-theme~='light-border'][data-placement^='right'] > .tippy-arrow::before {
  border-right-color: var(--tmx-border-primary);
}
[data-theme='dark'] .tippy-box[data-theme~='light-border'][data-placement^='right'] > .tippy-arrow::after {
  border-right-color: var(--tmx-bg-elevated);
}

/* --- Tipster content dark overrides --- */
[data-theme='dark'] .tipster-content {
  background-color: var(--tmx-bg-elevated);
  color: var(--tmx-text-primary);
  border-color: var(--tmx-border-primary);
}

/* --- Quill editor dark overrides --- */
[data-theme='dark'] .ql-toolbar {
  background-color: var(--tmx-bg-secondary);
  border-color: var(--tmx-border-primary);
}
[data-theme='dark'] .ql-container {
  background-color: var(--tmx-bg-primary);
  border-color: var(--tmx-border-primary);
  color: var(--tmx-text-primary);
}
[data-theme='dark'] .ql-editor.ql-blank::before {
  color: var(--tmx-text-muted);
}
[data-theme='dark'] .ql-toolbar .ql-stroke {
  stroke: var(--tmx-text-primary);
}
[data-theme='dark'] .ql-toolbar .ql-fill {
  fill: var(--tmx-text-primary);
}
[data-theme='dark'] .ql-toolbar .ql-picker-label {
  color: var(--tmx-text-primary);
}
[data-theme='dark'] .ql-toolbar .ql-picker-options {
  background-color: var(--tmx-bg-elevated);
  border-color: var(--tmx-border-primary);
}
[data-theme='dark'] .ql-snow .ql-tooltip {
  background-color: var(--tmx-bg-elevated);
  border-color: var(--tmx-border-primary);
  color: var(--tmx-text-primary);
}

/* --- Pikaday datepicker dark overrides --- */
[data-theme='dark'] .pika-single {
  background: var(--tmx-bg-elevated);
  border-color: var(--tmx-border-primary);
  color: var(--tmx-text-primary);
}
[data-theme='dark'] .pika-title {
  background: var(--tmx-bg-secondary);
  color: var(--tmx-text-primary);
}
[data-theme='dark'] .pika-label {
  color: var(--tmx-text-primary);
}
[data-theme='dark'] .pika-button {
  color: var(--tmx-text-primary);
  background: transparent;
}
[data-theme='dark'] .pika-button:hover {
  background: var(--tmx-bg-tertiary);
  color: var(--tmx-text-primary);
}
[data-theme='dark'] .pika-table th {
  color: var(--tmx-text-secondary);
}
[data-theme='dark'] .is-selected .pika-button {
  background: var(--tmx-accent-blue);
  color: var(--tmx-text-inverse);
}

/* --- @event-calendar dark overrides --- */
[data-theme='dark'] .ec {
  --ec-bg-color: var(--tmx-bg-primary);
  --ec-text-color: var(--tmx-text-primary);
  --ec-border-color: var(--tmx-border-primary);
  --ec-active-bg-color: var(--tmx-accent-blue);
}

/* --- Scoreboard dark overrides --- */
[data-theme='dark'] .scoreboard {
  border: 1px solid var(--tmx-border-secondary);
}

/* --- Drawer close button dark override --- */
[data-theme='dark'] .drawer__close {
  filter: invert(1);
}

/* --- CourtHive logo dark override --- */
[data-theme='dark'] .courthive-logo path,
[data-theme='dark'] .courthive-logo line {
  stroke: #ffffff;
}

/* --- Bulma tag/chip dark overrides --- */
[data-theme='dark'] .tag:not(body) {
  background-color: var(--tmx-bg-tertiary);
  color: var(--tmx-text-primary);
}
[data-theme='dark'] .tag.is-link {
  background-color: var(--tmx-accent-blue);
  color: #fff;
}
[data-theme='dark'] .tag.is-link.is-light {
  background-color: rgba(91, 155, 213, 0.15);
  color: var(--tmx-accent-blue);
}
[data-theme='dark'] .tag.is-danger {
  background-color: var(--tmx-accent-red);
  color: #fff;
}
[data-theme='dark'] .tag.is-danger.is-light {
  background-color: rgba(255, 138, 138, 0.15);
  color: var(--tmx-accent-red);
}
[data-theme='dark'] .tag.is-primary {
  background-color: var(--tmx-accent-teal);
  color: #fff;
}
[data-theme='dark'] .tag.is-primary.is-light {
  background-color: rgba(51, 201, 187, 0.15);
  color: var(--tmx-accent-teal);
}
[data-theme='dark'] .tag.is-info {
  background-color: var(--tmx-status-info);
  color: #fff;
}
[data-theme='dark'] .tag.is-info.is-light {
  background-color: rgba(91, 163, 217, 0.15);
  color: var(--tmx-status-info);
}

/* --- Radio button / checkradio dark overrides --- */
/* courthive-components renderForm() puts span as sibling of label.radio with inline color: #000 */
[data-theme='dark'] label.radio + span {
  color: var(--tmx-text-primary) !important;
}
[data-theme='dark'] label.radio {
  color: var(--tmx-text-primary);
}
[data-theme='dark'] .is-checkradio[type='radio'] + label {
  color: var(--tmx-text-primary);
}
[data-theme='dark'] .is-checkradio[type='radio'] + label::before {
  border-color: var(--tmx-border-primary);
}
[data-theme='dark'] .is-checkradio[type='radio']:hover:not([disabled]) + label::before {
  border-color: var(--tmx-accent-teal);
}
[data-theme='dark'] .is-checkradio[type='radio']:checked + label::after {
  background-color: var(--tmx-accent-teal);
  border-color: var(--tmx-accent-teal);
}
